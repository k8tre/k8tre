# CI Secrets Configuration for External Secrets Operator
# This file defines the secrets to be created in the secret-store namespace
# These secrets serve as the source for ExternalSecrets in CI environments

environment: ci
namespace: secret-store

secrets:
  # Keycloak Database Secret
  - name: keycloak-db-secret
    type: generic
    data:
      - key: username
        value: "keycloak-user"
      - key: password
        value: "{{ generate_password }}"
      - key: database
        value: "keycloak"

  # Opal Resource Database Secret
  - name: opal-resource-db-secret
    type: generic
    data:
      - key: username
        value: "opal-user"
      - key: password
        value: "{{ generate_password }}"
      - key: database
        value: "opal-resource-db"
  # Datashield secrets
  - name: datashield-secrets
    type: generic
    data:
      - key: mongodb-root-password
        value: "{{ generate_password }}"
      - key: mongodb-username
        value: "{{ .Values.mongodb.auth.username }}"
      - key: mongodb-password
        value: "{{ generate_password }}"
      - key: mongodb-database
        value: "{{ .Values.mongodb.auth.database }}"
      - key: mysql-root-password
        value: "{{ generate_password }}"
      - key: mysql-username
        value: "{{ .Values.mysql.auth.username }}"
      - key: mysql-password
        value: "{{ generate_password }}"
      - key: mysql-database
        value: "{{ .Values.mysql.auth.database }}"
      - key: opal-administrator-password
        value: "{{ generate_password }}"
      - key: opal-demo-user-password
        value: "{{ generate_password }}"
      - key: rock-administrator-password
        value: "{{ generate_password }}"
      - key: rock-manager-password
        value: "{{ generate_password }}"
      - key: rock-user-password
        value: "{{ generate_password }}"
      - key: agate-administrator-password
        value: "{{ generate_password }}"
      - key: mica-administrator-password
        value: "{{ generate_password }}"
  # cr8tor microserviceapikey Secret
  - name: cr8tor-microserviceapikey-secret
    type: generic
    data:
      - key: approvalserviceapikey
        value: "{{ generate_password }}"
      - key: metadataserviceapikey
        value: "{{ generate_password }}"
      - key: publishserviceapikey
        value: "{{ generate_password }}"
  # cr8tor Secret - to store source credentials
  - name: cr8tor-secret
    type: generic
    data:
      - key: mysql-rfam-public-username
        value: "rfamro"
      - key: mysql-rfam-public-password
        value: ""
      - key: postgresql-pgsqldb-lth-username
        value: "pgsql_admin"
      - key: postgresql-pgsqldb-lth-password
        value: ""
   # Keycloak Admin Bootstrap Credentials
  - name: keycloak-admin-bootstrap
    type: generic
    data:
      - key: username
        value: "user"
      - key: password
        value: "{{ generate_password(32) }}"
  # OIDC Client Secret for JupyterHub Integration
  - name: jupyterhub-oidc-client
    type: generic
    data:
      - key: client-id
        value: "jupyterhub"
      - key: client-secret
        value: "{{ generate_password(64) }}"
  # JupyterHub Hub Tokens
  - name: jupyterhub-hub-tokens
    type: generic
    data:
      - key: secret-token
        value: "{{ generate_hex_key(32) }}"
      - key: proxy-secret-token
        value: "{{ generate_hex_key(32) }}"
  # OIDC Client Secret for Backend Integration
  - name: backend-oidc-client
    type: generic
    data:
      - key: client-id
        value: "backend"
      - key: client-secret
        value: "{{ generate_password(64) }}"
  - name: guacamole-json-secret
    type: generic
    data:
      - key: GUACAMOLE_JSON_SECRET_KEY
        value: "{{ generate_hex_key(32) }}"
  # TLS secrets are now managed by cert-manager
  # Remove TLS secret configurations and use cert-manager resources instead

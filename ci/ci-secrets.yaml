# CI Secrets Configuration for External Secrets Operator
# This file defines the secrets to be created in the secret-store namespace
# These secrets serve as the source for ExternalSecrets in CI environments

environment: ci
namespace: secret-store

secrets:
  # Keycloak Database Secret
  - name: keycloak-db-secret
    type: generic
    data:
      - key: username
        value: "keycloak-user"
      - key: password
        value: "{{ generate_password }}"
      - key: database
        value: "keycloak"

  # Opal Resource Database Secret
  - name: opal-resource-db-secret
    type: generic
    data:
      - key: username
        value: "opal-user"
      - key: password
        value: "{{ generate_password }}"
      - key: database
        value: "opal-resource-db"
  # cr8tor microserviceapikey Secret
  - name: cr8tor-microserviceapikey-secret
    type: generic
    data:
      - key: approvalserviceapikey
        value: "{{ generate_password }}"
      - key: metadataserviceapikey
        value: "{{ generate_password }}"
      - key: publishserviceapikey
        value: "{{ generate_password }}"
  # cr8tor Secret - to store source credentials
  - name: cr8tor-secret
    type: generic
    data:
      - key: mysql-rfam-public-username
        value: "rfamro"
      - key: mysql-rfam-public-password
        value: ""
      - key: postgresql-pgsqldb-lth-username
        value: "pgsql_admin"
      - key: postgresql-pgsqldb-lth-password
        value: ""
   # Keycloak Admin Bootstrap Credentials
  - name: keycloak-admin-bootstrap
    type: generic
    data:
      - key: username
        value: "user"
      - key: password
        value: "{{ generate_password(32) }}"
  # OIDC Client Secret for JupyterHub Integration
  - name: jupyterhub-oidc-client
    type: generic
    data:
      - key: client-id
        value: "jupyterhub"
      - key: client-secret
        value: "{{ generate_password(64) }}"
  # JupyterHub Hub Tokens
  - name: jupyterhub-hub-tokens
    type: generic
    data:
      - key: secret-token
        value: "{{ generate_hex_key(32) }}"
      - key: proxy-secret-token
        value: "{{ generate_hex_key(32) }}"
  # OIDC Client Secret for Backend Integration
  - name: backend-oidc-client
    type: generic
    data:
      - key: client-id
        value: "backend"
      - key: client-secret
        value: "{{ generate_password(64) }}"
  - name: guacamole-json-secret
    type: generic
    data:
      - key: GUACAMOLE_JSON_SECRET_KEY
        value: "{{ generate_hex_key(32) }}"
  # Gitea OIDC Client Secret
  - name: gitea-oidc-client
    type: generic
    data:
      - key: client-id
        value: "gitea"
      - key: client-secret
        value: "{{ generate_password(32) }}"
  # Gitea Database Secret
  - name: gitea-db-secret
    type: generic
    data:
      - key: username
        value: "gitea_user"
      - key: password
        value: "{{ generate_password(32) }}"
      - key: database
        value: "gitea"
  # Gitea Admin Credentials
  - name: gitea-secrets
    type: generic
    data:
      - key: admin-username
        value: "gitea_admin"
      - key: admin-password
        value: "{{ generate_password(32) }}"
  # TLS secrets are now managed by cert-manager
  # Remove TLS secret configurations and use cert-manager resources instead
